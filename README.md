# 🏠 HomeBuddy
> 계약 전 꼭 알아야 할 부동산 정보를 정리해주는 스마트 계약 파트너

부동산 직거래 증가와 함께 전세 사기 위험 또한 커지고 있습니다.  
**HomeBuddy**는 계약 전 등기부등본과 전세가율을 자동 분석하여  
사용자가 안전하게 전세 계약을 진행할 수 있도록 돕는 서비스입니다.

---

## 📌 프로젝트 개요

- 부동산 계약 전 정보 부족 문제 해결
- 등기부등본 기반 위험요소 자동 분석
- 실거래가 기반 전세가율 계산
- 계약 체크리스트 및 특약 가이드 제공
- 계약 리스크 등급화 및 시각화

- **프로젝트 기간:** 2025.07.09 ~ 2025.08.21 (6주)
- **리팩토링 기간:** 2025.09.01 ~ 2025.10.31 (25일)
- **담당 역할:** 전세가율 분석(기획·설계·프론트엔드·백엔드), Redis 캐싱 적용 및 k6 기반 성능 테스트

---

## 🎯 프로젝트 목표

- 계약 전 위험요소 사전 진단
- 계약 절차를 모르는 사용자 보호
- 복잡한 부동산 용어를 쉽게 제공

---

## 👤 타겟 사용자

- 사회초년생 (계약 경험 부족)
- 부동산 직거래 사용자
- 계약 전 위험 요소를 미리 확인하고 싶은 사용자

---

## 🧩 주요 기능

| 기능 | 설명 |
|------|------|
| 매물 안전성 진단 | 등기부등본 + 전세가율 기반 위험 분석 및 등급 제공 |
| 계약 체크리스트 | 전세 표준계약서 기반 필수 점검 항목 제공 |
| 최종 리포트 | 위험 요소 + 미체크 항목 통합 분석 |
| 계약서 작성 도우미 | 특약 추천 및 계약서 예시 제공 |
| 용어 해설집 | 계약·등기 관련 용어를 쉬운 설명으로 제공 |
| 관리자 페이지 | 카테고리 / 용어 / 특약 CRUD 관리 |

---

## ⚙ 기술 스택

### Frontend
- Vue.js / Bootstrap / Pinia  

### Backend
- Spring Framework(Legacy) / MyBatis / Gradle / JWT    

### Database
- MySQL  

### Tools
- GitHub / Swagger / Notion / Figma / Slack

---

## 전세가율 서비스 분석 (담당 기능)

### 📂 백엔드 구조 설계

- Controller  
  요청/응답 및 분석 흐름 제어

- Service  
  주소 분석, 실거래가 조회, 전세가율 계산, 등급 산정 등  
  단계적 분석 로직 집중

- Domain (DTO / VO / Enum)  
  외부 데이터 정규화 및 판단 기준 정의

- Mapper (MyBatis)
  결과를 DB에 저장/조회


### 1. 전체 분석 흐름
1. 주소 표준화 (도로명 주소 API)
2. 실거래가 조회 및 유사 매물 필터링
3. 평균 매매가 산출
4. 전세가율 계산
5. 지역 평균 전세가율(KOSIS) 조회
6. 전세가율 비교 및 안전 등급 산정
7. 분석 결과 저장 및 리포트 연동

### 2. 외부 API 연동 전략

- RestTemplate 대신 **WebClient** 기반으로 외부 API 호출 구성
- 대용량 응답 대응을 위한 메모리 제한 조정
- 공공 API의 숫자/문자 혼합 응답을 고려한 Jackson coercion 설정
- 응답 구조가 일정하지 않은 실거래가 API 대응을 위한 커스텀 Deserializer 구현

### 3. 주소 처리 및 표준화

- 사용자 입력 주소는 분석에 바로 사용할 수 없기 때문에 반드시 표준화 과정 수행
- 도로명 주소 API를 통해 다음 정보를 추출
  - 법정동 코드
  - 지번
  - 건물명
- 이후 모든 분석 로직은 표준화된 주소 정보를 기준으로 수행

주소 파싱 로직은 Controller가 아닌 **AddressService**에서 담당하여  
외부 API 변경 시 영향 범위를 최소화하였다.

### 4. 실거래가 조회 및 필터링 로직

- 국토부 실거래가 API를 통해 최근 6개월 매매 데이터를 조회
- 매물 유형을 내부 도메인(Enum) 기준으로 정규화하여 처리
- 거래 데이터 왜곡을 방지하기 위해 다음 조건으로 유사 매물만 필터링
  - 동일 지번
  - 전용면적 ±3㎡
  - 건물명 유사도

조건을 만족하는 매물이 없는 경우,  
잘못된 판단을 방지하기 위해 분석 상태를 **판단 보류(HOLD)** 로 처리하였다.

### 5. 전세가율 계산 및 비교 기준

- 전세가율 계산식  
  `(전세 보증금 ÷ 평균 매매가) × 100`
- 계산 결과는 사용자 이해도를 고려해 정수로 반올림 처리

단순 전세가율 수치만으로는 위험 판단이 어렵다고 판단하여,  
KOSIS 통계 데이터를 활용해 **지역 평균 전세가율과의 편차**를 기준으로 비교하였다.

### 6. 지역 평균 전세가율 조회 전략

- 통계청(KOSIS) API 연동
- 구 단위 통계를 우선 조회
- 구 단위 데이터가 없는 경우 시·도 단위로 fallback 처리
- 최근 3개월 평균 데이터를 기준으로 사용

통계 데이터 부재 역시 예외가 아닌 정상 흐름으로 처리하였다.


---

## 👥 Team Roles

| 이름 | 담당 |
|------|------|
| 고두환 | 로그인 / 마이페이지 |
| 문경서 | 메인페이지 헤더 / 계약서 체크리스트 |
| 송용욱 | 관리자 페이지 |
| 윤준식 | 메인페이지 바디 / 참고 계약서 / 특약관리 |
| 이가은 | 용어집 / UI 디자인 |
| 이승예 | 전세가율 분석 / 결과 시각화 |
| 정경조 | 등기부등본 분석 / 결과 시각화 |
| 정혜빈 | 최종 리포트 결과 |

---
